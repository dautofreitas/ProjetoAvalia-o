CREATE TABLE [dbo].[Carro] (
    [Id] [int] NOT NULL IDENTITY,
    [Placa] [nchar](7) NOT NULL,
    [Marca] [nvarchar](50) NOT NULL,
    [Modelo] [nvarchar](50) NOT NULL,
    CONSTRAINT [PK_dbo.Carro] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[RegistroDeFluxo] (
    [Id] [int] NOT NULL IDENTITY,
    [FaturamentoId] [int],
    [OperadorId] [int] NOT NULL,
    [CarroId] [int] NOT NULL,
    [DataEntrada] [datetime],
    [HoraEntrada] [datetime],
    [DataSaida] [datetime],
    [HoraSaida] [datetime],
    [ValorAPagar] [float],
    CONSTRAINT [PK_dbo.RegistroDeFluxo] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Faturamento] (
    [Id] [int] NOT NULL IDENTITY,
    [EmpresaId] [int] NOT NULL,
    [DataCompetencia] [datetime] NOT NULL,
    [DataPagamento] [datetime],
    [ValorCompetencia] [float],
    [Valor] [float],
    CONSTRAINT [PK_dbo.Faturamento] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Empresa] (
    [Id] [int] NOT NULL IDENTITY,
    [Nome] [nvarchar](300) NOT NULL,
    [Cnpj] [nchar](14) NOT NULL,
    [Email] [nvarchar](150) NOT NULL,
    CONSTRAINT [PK_dbo.Empresa] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Operador] (
    [Id] [int] NOT NULL IDENTITY,
    [Nome] [nvarchar](300) NOT NULL,
    [Cpf] [nchar](11) NOT NULL,
    [Login] [nvarchar](50) NOT NULL,
    [Senha] [nvarchar](20) NOT NULL,
    [EmpresaId] [int] NOT NULL,
    [PerfilId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Operador] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Perfil] (
    [Id] [int] NOT NULL IDENTITY,
    [Tipo] [nvarchar](50) NOT NULL,
    CONSTRAINT [PK_dbo.Perfil] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_FaturamentoId] ON [dbo].[RegistroDeFluxo]([FaturamentoId])
CREATE INDEX [IX_OperadorId] ON [dbo].[RegistroDeFluxo]([OperadorId])
CREATE INDEX [IX_CarroId] ON [dbo].[RegistroDeFluxo]([CarroId])
CREATE INDEX [IX_EmpresaId] ON [dbo].[Faturamento]([EmpresaId])
CREATE INDEX [IX_EmpresaId] ON [dbo].[Operador]([EmpresaId])
CREATE INDEX [IX_PerfilId] ON [dbo].[Operador]([PerfilId])
ALTER TABLE [dbo].[RegistroDeFluxo] ADD CONSTRAINT [FK_dbo.RegistroDeFluxo_dbo.Carro_CarroId] FOREIGN KEY ([CarroId]) REFERENCES [dbo].[Carro] ([Id])
ALTER TABLE [dbo].[RegistroDeFluxo] ADD CONSTRAINT [FK_dbo.RegistroDeFluxo_dbo.Faturamento_FaturamentoId] FOREIGN KEY ([FaturamentoId]) REFERENCES [dbo].[Faturamento] ([Id])
ALTER TABLE [dbo].[RegistroDeFluxo] ADD CONSTRAINT [FK_dbo.RegistroDeFluxo_dbo.Operador_OperadorId] FOREIGN KEY ([OperadorId]) REFERENCES [dbo].[Operador] ([Id])
ALTER TABLE [dbo].[Faturamento] ADD CONSTRAINT [FK_dbo.Faturamento_dbo.Empresa_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresa] ([Id])
ALTER TABLE [dbo].[Operador] ADD CONSTRAINT [FK_dbo.Operador_dbo.Empresa_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresa] ([Id])
ALTER TABLE [dbo].[Operador] ADD CONSTRAINT [FK_dbo.Operador_dbo.Perfil_PerfilId] FOREIGN KEY ([PerfilId]) REFERENCES [dbo].[Perfil] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201807181337245_AutomaticMigration', N'GeaWebMVC.Migrations.Configuration',  0x1F8B0800000000000400ED5DDD6EE3BA11BE2FD077107459E4D871B645DBC03E075B6FB20DBAF9419CDDF66EC1D8B4A3567F95E82041D127EB451FA9AF5052A224FE8B942CDB1B047B1353E4CC68F8CD68869AD1FEEF3FFF9DFEF21285DE33CCF2208967FE6474EA7B305E26AB20DECCFC2D5AFFF407FF979F7FFDABE9C52A7AF1BE55F33E907978659CCFFC2784D2F3F1385F3EC108E4A3285866499EACD168994463B04AC667A7A77F1C4F26638849F89896E74DEFB7310A2258FCC03FE749BC8429DA82F03A59C130A7E3F8CAA2A0EADD8008E62958C299FF0920E07B1FC30060DE0B18AE7D0FC4718200C2929D7FCDE1026549BC59A47800840FAF29C4F3D620CC2195F8BC996E2BFCE919117EDC2CAC482DB7394A224782930F541B637179279DFAB5B6B0BE2EB05ED12BB9EB4267337F0EB22CF13D91D3F93CCCC8AC99FF1982BFC2C7EB6FF351A9FB51B1E2C4ABC74FEA6DC7E820FF4EBCF93644DB0CCE62B84519084FBCBBED63182CFF025F1F927FC078166FC390150B0B86AF710378E82E4B5298A1D77BB8A6C25EAD7C6FCCAF1B8B0BEB65CC9AF24EAE62F4E1CCF76E3073F018C27AD799BB5EA024839F610C3380E0EA0E2004B398D08085DE24EE02AFBB102C41C50EE30C1B89EF5D83972F30DEA0A799FF7BDFBB0C5EE0AAFA8DB22DE6FF350EB041C1EAA7249F99E735C88C3C7F772A30A5547B7225584886677B039E834DB1378200F77013E4D8923FC1CB70FB92E4BE770FC36262FE14A4A5E58F8449DF29D82FB324BA4F42994A39E1FB03C83610E19B4B4CB316C9365B0A124FC78D8119CD4E20E96480C2DA775354F1BA04F8B6F15F314A24B6E695B7F80776A159BBB4663A054AFA12214F330C1E2C506DE378083EE08763DBD23F2759D7A584EB0204DD78765AF80D8449F6F10E6C40562F4D30521D3C0235EEDDB981CAC0CD6EA07216B66232C0B412969BAF179999D62A383BD755FCCA3AAC646F26EB05AFE6B44A5D4F54896CED7839753A385D66DDBBC355F1BA88D20CE660170E6F9E44294438CD08147EA4033DE256E88E77F04A2A69D4AE49B5BAAB37A3EA549A196BBFF5BCC6C2149725E352CD7175059D42B00EEEAC2D1C53B9BE4EBEA1D6A5835FA06BDE7D828AD74D426C4C9B237C381D243799C7E9DF0D5C27BF1D200BBB8840109A980E9D0F3146A036C40E4E43343C9363718D1FA05ACAFA21AF1051BC26C9274DE8E50D9AE0C5C11D548BDEFDC111F983746DB2CCC900EEE04BB209E2BD1FCA2C60FC643A0A3A1B84EB8E02BF3B98AD83D0994AA700CAC9CB88A193D60DD94A56DEA959B06A8E42AEF2925E2C7A7D2FD19C5382D716C749996027B75D69CEC169974BDE5DB68AD743901EF298D7365C68B7176DB020D8930DE83EE67982D341228CDA7AE811137F9317F1CAB33A6F2A95ADB037AC7A0CC320C5C0C352CDFCDF488A6CE3516BA1E1414FC378CA138932862CCC08664038C77B808D2088918CEF00E7C929086D8410165B9A07D9959A8D78E5134C614C906DA3681BFEF521AE2C44CD4BB0DE36454DC70C7CCCA8929E53BACDD63FB49A7D6E7CB53D88F4217743B77E860E82209D047B008F4EA936AC99A0E8B0C8A18EB17583C5A86247B8119D6F43B6F2D8C3A286E7BF4FD0F00AB5E1DC44C007818CEA8040B7BFC623C6668FB9C33E7BF418CF22F6E5780C42EC01460605FF08EEC774EA6B1BB028DF680D121A290F9BAD507C3A1A0D142929643A40BCA4D8031B298497EF4701C1FA31668B0AF9C5E420E093D3E3F647EF409813453900E044A5DB88C0166CEC016A654A88D720BC02665488CF109021F88214470F5F73484F1F729A118BE820241710B15907CE789BEC93CFD52470F1CBE5A31C899004E01692FCEB05891CE7225B48D167938A4CFD446F21C19E0A48441AA369A152C65B2A12556C2A106000A15576555CC2CC3556A18878B53D24A86F46B5DD9215D81E0B30542B0C8A8753BC122C14241FB6CABA3127BA76A92E233B8B0F832EB4D92D43AA41EBEE1451C1CBA00755DA6695B8F5D08290AB31946A4BE9AD03E55B48590FADB9887536C2DC05EFC30C1A31E51FC340C35825D1EE4AB4E1B57380BD2BB7A20AA92DB76207EA6B1E01EDBA53C7856E91E1AEB426C58256D66C505875805D472BF5B5E9B86C9DA003D3B1A6C7627A0DD23488374CCF051DF11665C3C5FCA7857B5F4254D2182F73457B422D6DCD092519D840E12A668D25BD0CB21C912AAF47405E2CCC5791348D89CD341141C5880BBFE47DABC2846A3AF9BB29331B299FE88DC22EF13D10C817B703C547ADBCCE23ED2D200499E2F5CF3C09B751AC0FC1F5AB698F024B800ED9D3A03D072C0D3AE4408376107044E8984C653A169428C5F9D2EE083622EEB51512246B76C6841868BBA3A395C2303811727896504B7AAFA7C9666A2C415306A7A756BF9B6149695FD8E8E97035F62C2DEE823D3DAEF09EA5C75D70938F16D58BD2D16137D914B498617B5A5CCD3E4B8DBB7034B6CCC51CCE766C08B12C6CD8B87A18FB658E8059228693613D2DA9285BC42177D18D2E539C2D52652E39A2522BAC7CD591B282DC1161BC4E499CF1ADC9B22CB0AD5D390CAECB1A42767D39E2F0DC28EA83B9874631E2625B45B52F6F57403E313A20129874C1190BBA94C8020CFAA5478B06521DCA81810CD8AFA7A59E2C053A644F83166EB234E8D061FC7DF3269A4B13B4EFA70F86F2EA60CA19E2EAF3350B80EB160E03EFB2FA8E5D5F8EEC7903A46304714ACDBD3E4E108E0DA634856FFF7E8394D397537C0FABE63958917C7EF19A23188D8A8D5CFC339C8701BEDF66C235888335CC515998E99F9D4ECE840F421CCFC719C679BE0A154720165F68B88A57F065E6FFCBFBF7FEEB4E03A2EFD6CA52D70A70F6EB09F1F289640FFCC713FA7C1A217EC6BF449AA47CB5D7970FBA51DDE16702DE1C0A948DFB0527FDBD9395E7DED5DFBE738B4FBCDB0CBB8373EF142B8711A32C4976FD0880AD08CD4A1DFF2E5F0FB0E54E97F562ADF8E6C00AEF2D12DA6F6DD4A8F806415752D23709FAC8B413428A6F16ACC30420339D1D75AABF39BB97DA886C215F2FEC0D7A45A7B70A1BDDFBCE7B214D219D05DC34C48600ACBE7DFACD81956D64548600452B638FBE6539FC216DCB7D9A9295624E7617AA34EF5CDFB7BFDBF6376DAA8ADD9FF4EB41DD55F4CBB5982A899EB9133DB0EBBF133A4F6DB957EB1C98F7EF627C73B6C43618EE369BEADBA547136FF756396D8147BF1AE24E35BEBA9A84A12B79DF52775D1DD874693E910BED3A765775DA7EFD6B9DC13A9F7E880615DBFEB8CA0F77685C3BECC66B0FB80FBBEFFA770847D7E3B623ABE7D2F8AEBD71C76EFBE6EA88E333FF2EFD691D3652D91E764CD181EBBE1D2046F8217BC99C3CFE7143C4C9BD1F001F47D1FD2517228B1BAA68F0D2F77795AF3C67FEEA91EC7899F8746AFDB2E9FC5231EBD11ED6D61DA662D7A17DCCD43DA662E1DA5A666C2C5331706C3B33749DA9A8DF1D43471A875AA672DDA1C5C1D42B717CBD6602D6B872379B962A6503C7B17592F178648B5C0E798B83348A75DD4F857B93CA7A7F9026B00EB772407B1EB8B1CB09C47B508343BB965C4F85831AE67FCDC1B1551E6C1A12E4FFD089E1920B67EA3957F13AA9222B41A26A8A5805031158E158E76386823558227C7909F3BCF83CDC37106E0B637B84ABABF8768BD22DC2B70CA3C790FBDC1C89CE4CFC8B9E345EE6E96D5A7C016E17B780C50CC80BD9DBF84FDB205CD5725F2A4E98352448D8478FC2C95E227224BE79AD29DD24B12521AABE3A5A7D80511A6262F96DBC00CFB08B6C5F73F8056EC0F2B52A8BD31369DF085EEDD34F01D8606791531ACD7AFC13637815BDFCFC7FDBFDE8B93C6A0000 , N'6.2.0-61023')

INSERT [dbo].[Perfil]([Tipo]) values ('Administrador'),('Normal')





